@using HazardousSubstancesBlazorServerApp.Model

<DxGrid @ref="Grid"
        Data="@Data"
        AutoExpandAllGroupRows="false">
    <Columns>
        <DxGridDataColumn FieldName="Department" MinWidth="200" GroupIndex="0" />
        <DxGridDataColumn FieldName="Dokument" MinWidth="200" />
        <DxGridDataColumn FieldName="Datum" MinWidth="100" />
        <DxGridDataColumn FieldName="Status" MinWidth="100" />
    </Columns>
</DxGrid>

@code {
    [Parameter]
    public Product Product {get;set;}
    object Data { get; set; }
    Dictionary<string, string[]> GroupInfo { get; } = new Dictionary<string, string[]> {
        { "Department", new string[] { "Department" } }
    };
    string CurrentGroupInfoKey { get; set; } = "Country";
    IGrid Grid { get; set; }
    protected override async Task OnInitializedAsync()
    {
        Data = Product.Records;
    }
    void ExpandAllRows_Click()
    {
        Grid.ExpandAllGroupRows();
    }
    void CollapseAllRows_Click()
    {
        Grid.CollapseAllGroupRows();
    }
    // This method demonstrates how to group Grid data in code.
    // In this demo, this method is called when the 'Group by' option value changes.
    protected void ChangeGrouping(string key)
    {
        CurrentGroupInfoKey = key;
        var currentGroupInfo = GroupInfo[key];
        Grid.BeginUpdate();
        Grid.ClearSort();
        foreach (var columnName in currentGroupInfo)
            Grid.GroupBy(columnName);
        Grid.EndUpdate();
    }
}